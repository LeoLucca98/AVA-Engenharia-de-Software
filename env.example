# AVA Microservices Environment Variables
# Configurações compartilhadas entre todos os serviços

# =============================================================================
# DJANGO SETTINGS
# =============================================================================
DEBUG=True
SECRET_KEY=django-insecure-change-this-in-production-ava-microservices
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,api-gateway,auth_service,learning_service,recommendation_service

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
DB_USER=postgres
DB_PASSWORD=postgres

# Database names for each service
AUTH_DB_NAME=auth_service
LEARNING_DB_NAME=learning_service
RECOMMENDATION_DB_NAME=recommendation_service

# =============================================================================
# API GATEWAY SETTINGS
# =============================================================================
ALLOWED_ORIGINS=http://localhost:4200,http://localhost:3000,http://127.0.0.1:4200,http://127.0.0.1:3000

# Internal service URLs (used by API Gateway)
AUTH_SERVICE_URL=http://auth_service:8000
LEARNING_SERVICE_URL=http://learning_service:8000
RECOMMENDATION_SERVICE_URL=http://recommendation_service:8000

# JWKS endpoint consumed by the API Gateway to validate JWTs
# Using the gateway itself as a proxy avoids Django rejecting hosts with underscore
AUTH_SERVICE_JWKS_URL=http://127.0.0.1/auth/.well-known/jwks.json

# =============================================================================
# SERVICE COMMUNICATION
# =============================================================================
# URLs for inter-service communication
AUTH_SERVICE_INTERNAL_URL=http://auth_service:8000
LEARNING_SERVICE_INTERNAL_URL=http://learning_service:8000
RECOMMENDATION_SERVICE_INTERNAL_URL=http://recommendation_service:8000

# =============================================================================
# JWT SETTINGS
# =============================================================================
JWT_ALGORITHM=RS256
JWT_AUDIENCE=ava-microservices
JWT_ISSUER=ava-auth-service
JWT_ACCESS_TOKEN_LIFETIME=3600
JWT_REFRESH_TOKEN_LIFETIME=604800

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:4200,http://localhost:3000,http://127.0.0.1:4200,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=verbose

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Set to False in production
DEVELOPMENT_MODE=True

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify for production deployment
# DEBUG=False
# SECRET_KEY=your-super-secret-key-here
# ALLOWED_HOSTS=yourdomain.com,api.yourdomain.com
# DB_PASSWORD=your-secure-database-password
# ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
